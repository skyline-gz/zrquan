开发Todo备忘录
======
### 2014/12/24
* 消息 类似知乎一样能通过导航栏的控件对消息进行分类预览，无需跳转到全部消息列表

### 2014/12/16
* 消息系统(√)
* 私信系统
* 搜索系统【问答主题，职人】
* 问答提问存草稿(√)
* 问答答案存草稿(√)
* random token 代替modal id，以免id可被猜测(√)

### 2014/12/12
* 【前端+后端】实现保存附件的对应（问题，答案）关系，即attachable_id，attachable_type列，以后和草稿功能也相关

### 2014/12/11
* 【数据库】需要增加问题/答案 与相关附件的关系，可供日后实现举报，和运营管理用户附件(√)
* 【数据库】问题/答案需要增加edited_at的字段，在每次create和update的操作时，更新该字段，以做到比较是否经过了用户的编辑，以便在前端显示【编辑于...】(√)
* 【后端】自动匹配，支持更新缓存（现在只支持插入新的，不支持重复条目的覆盖更新），思路，以ID为键构建哈希表对条目进行缓存

### 2014/12/10
* 【后端】由于关闭了全局简单escape尖括号<>的配置escape_html_entities_in_json，需要封装一个防止JSON XSS的filter来对返回进行处理
* 【后端】问答列表中的缩略答案，现在采用strip_tag进行简单的处理，但丢掉的原文的格式，应使用XPATH工具(gem nokogiri)对文档的标签进行处理，并返回前几个html标签
* 【后端】问答列表中的缩略答案，应参考知乎，展示第一张缩略图，可使用(gem nokogiri)提取第一张image的url
* 【前端】待补充列表下拉刷新的图标的样式(√)
* 【前端+后端】待实现后端正文编辑框的图片/附件上传的后台接口(√)
